\ProvidesPackage{matanhelper}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{textcomp}
\usepackage{tikz}

% Теоремы, следствия, замечания, ...
\theoremstyle{plain}
\newtheorem{theorem}{Теорема}[chapter]
\newtheorem{lemma}[theorem]{Лемма}
\newcounter{corollaryCounter}[theorem]
\newtheorem{corollary}[corollaryCounter]{Следствие}
\newtheorem*{corollary*}{Следствие}

\theoremstyle{definition}
\newtheorem*{example}{Пример}
\newtheorem*{exercise}{Упражнение}
\newtheorem{definition}{Определение}[chapter]

\theoremstyle{remark}
\newtheorem*{remark}{Замечание}
\newtheorem*{remarks}{Замечания}
\newtheorem*{exerciseAnswer}{Ответ на упражнение}

% Сокращения (aliases)
\let \thm \theorem
\let \lem \lemma
\let \defn \definition
\let \exmp \example
\let \exc \exercise
\let \rem \remark
\let \rems \remarks
\let \crl \corollary
\let \eans \exerciseAnswer

% Нумеровать формулы по главам
\numberwithin{equation}{chapter}

% Версия со звездочкой убирает нумерацию из следствия
\newenvironment{crl*}{\begin{corollary*}}{\end{corollary*}}

% Разные определения
\newcommand{\eps}{\varepsilon}
\newcommand{\abs}[1]{\left|{#1}\right|}
\newcommand{\norm}[1]{\lVert{#1}\rVert}
\newcommand{\stk}[2]{\stackrel{\eqref{#1}}{#2}}
\newcommand{\D}{\Delta}
\newcommand{\pderiv}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\appr}[1]{\underset{#1}\longrightarrow}

% Числовые множества
\newcommand{\R}{\mathbb{R}}
\renewcommand{\C}{\mathbb{C}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Z}{\mathbb{Z}}

% Специальная команда обрамления в кружочек
\newcommand*{\encircle}[1]{
  \relax
  \ifmmode
    \mathpalette\@encircle@math{#1}
  \else
    \@encircle{#1}
  \fi
}
\newcommand*{\@encircle@math}[2]{
  \@encircle{$\m@th#1#2$}
}
\newcommand*{\@encircle}[1]{
  \tikz[baseline,anchor=base] {
    \node[draw,circle,outer sep=0pt,inner sep=.1ex] {#1};
  }
}

% Необходимость, достаточность
\newcommand{\nec}{\encircle{$\Rightarrow$}}
\newcommand{\suff}{\encircle{$\Leftarrow$}}

% Лопиталь
\newcommand{\lopital}{\encircle{\text{Л}}}

% Наклонные \le и \ge
\renewcommand{\le}{\leqslant}
\renewcommand{\ge}{\geqslant}
\renewcommand{\leq}{\leqslant}
\renewcommand{\geq}{\geqslant}
